(window.webpackJsonp__wix_da_deviation=window.webpackJsonp__wix_da_deviation||[]).push([[5],{1540:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}t.__esModule=!0,r(n(593)),r(n(1541))},1541:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}t.__esModule=!0,r(n(593)),r(n(1542))},1542:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0;var c=n(0),i=n(12),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this;return c.createElement(i.ReactReduxContext.Consumer,null,(function(t){return c.createElement(u,a({},e.props,{reactReduxContext:t}))}))},t}(c.Component);t.DynamicModuleLoader=s;var u=function(e){function t(t){var n=e.call(this,t)||this;if(n._providerInitializationNeeded=!1,n._cleanup=function(){n._addedModules&&(n._addedModules.remove(),n._addedModules=void 0)},null==t.reactReduxContext){var r="Tried to render DynamicModuleLoader, but no ReactReduxContext was provided";throw console.error(r),new Error(r)}return n._store=t.reactReduxContext?t.reactReduxContext.store:void 0,n.props.strictMode?n.state={readyToRender:!1}:(n._addModules(),n.state={readyToRender:!0}),n}return o(t,e),t.prototype.render=function(){return this.state.readyToRender?this._providerInitializationNeeded?c.createElement(i.Provider,{store:this._store},c.createElement(s,a({},this.props))):c.createElement(c.Fragment,null,this._renderLoader(),c.createElement(d,{cleanup:this._cleanup})):null},t.prototype._renderLoader=function(){return this.props.children?"function"==typeof this.props.children?this.props.children():this.props.children:null},t.prototype._addModules=function(){var e=this.props,t=e.createStore,n=e.modules;if(this._store)this._addedModules=this._store.addModules(n);else{if(!t)throw new Error("Store could not be resolved from React context");this._store=t(),this._providerInitializationNeeded=!0}},t.prototype.componentDidMount=function(){this.props.strictMode&&(this._addModules(),this.setState({readyToRender:!0}))},t}(c.Component),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return null},t.prototype.componentWillUnmount=function(){this.props.cleanup()},t}(c.Component)},2167:function(e,t,n){"use strict";n.r(t),n.d(t,"CommentReduxModule",(function(){return q}));var r,o,a=n(0),c=n.n(a),i=n(1540),s=n(1),u=n(125),d=n(19),l=n.n(d),_=n(965),p=n.n(_),b=n(456),m=n(208),j=n(102),O=n(520),f=Object(O.a)(((r={})[m.h.toString()]=function(e,t){return e},r[m.g.toString()]=function(e,t){if(!t.payload)return e;switch(t.payload.actionType){case m.b.toString():return alert("Failed to feature the comment."),Object(s.__assign)(Object(s.__assign)({},e),{isFeatured:!1});case m.i.toString():return alert("Failed to unfeature the comment."),Object(s.__assign)(Object(s.__assign)({},e),{isFeatured:!0});case m.d.toString():return alert("Failed to like the comment."),Object(s.__assign)(Object(s.__assign)({},e),{isLiked:!1,likes:(e.likes||0)-1});case m.k.toString():return alert("Failed to unlike the comment."),Object(s.__assign)(Object(s.__assign)({},e),{isLiked:!0,likes:(e.likes||0)+1});case m.c.toString():return alert("Failed to hide the comment."),Object(s.__assign)(Object(s.__assign)({},e),{isHidden:!1});case m.j.toString():return alert("Failed to unhide the comment."),Object(s.__assign)(Object(s.__assign)({},e),{isHidden:!0});case m.f.toString():return alert("Failed to report the comment as spam."),Object(s.__assign)(Object(s.__assign)({},e),{isSpam:!1});case b.a.blockUserFail.toString():return alert("Failed to block the user."),e;default:return e}},r[m.b.toString()]=function(e,t){return Object(s.__assign)(Object(s.__assign)({},e),{isFeatured:!0})},r[m.i.toString()]=function(e,t){return Object(s.__assign)(Object(s.__assign)({},e),{isFeatured:!1})},r[m.d.toString()]=function(e,t){if(!t.payload)return e;var n=e&&e.likes||t.payload.comment.likes||0;return Object(s.__assign)(Object(s.__assign)({},e),{isLiked:!0,likes:n+1})},r[m.a.toString()]=function(e,t){return t.payload&&t.payload.comment&&t.payload.badge?Object(s.__assign)(Object(s.__assign)({},t.payload.comment),{awardedBadges:p()(Object(s.__spreadArrays)([t.payload.badge],t.payload.comment.awardedBadges||[]),"name")}):e},r[m.k.toString()]=function(e,t){if(!t.payload)return e;var n=e&&e.likes||t.payload.comment.likes||0;return Object(s.__assign)(Object(s.__assign)({},e),{isLiked:!1,likes:n-1})},r[m.c.toString()]=function(e,t){return Object(s.__assign)(Object(s.__assign)({},e),{isHidden:!0})},r[m.j.toString()]=function(e,t){return Object(s.__assign)(Object(s.__assign)({},e),{isHidden:!1})},r[m.f.toString()]=function(e,t){return Object(s.__assign)(Object(s.__assign)({},e),{isSpam:!0})},r[j.k.toString()]=function(e,t){return Object(s.__assign)({},t.payload.comment)},r),{}),h=((o={})[u.d]=function(e,t){var n;void 0===e&&(e={});var r=t.type,o=t.payload;if(!o||!o.comment||!o.comment.commentId)return e;l.a.log("comments","EVENT: "+r);var a=o.comment.commentId,c=e[a]||o.comment,i=f(c,t);return Object(s.__assign)(Object(s.__assign)({},e),((n={})[a]=i,n))},o),g=n(2),y=n(20),v=n(835),w=n.n(v),k=n(279),M=n(333),S=n(17),x=n(76),C=n(82),F=n(88),R=n(8),E=n(132),I=n(57);function N(e){l.a.log("comments","faking the response!")}function T(e){return e.error_description}function L(e,t,n,r){var o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return[4,Object(g.l)(S.A)];case 1:return a.sent()?[3,3]:[4,Object(g.j)(Object(x.a)({restrictedActionName:R.j.COMMENT_ACTION}))];case 2:return a.sent(),[2];case 3:return l.a.log("comments","calling "+e+" comment saga"),[4,Object(g.c)(y.a,{method:"post",url:"/comments"+e,data:r||{itemid:n.itemId,commentid:n.commentId}},N)];case 4:return(o=a.sent())&&o.success?[4,Object(g.j)(Object(m.h)(t,n))]:[3,6];case 5:return a.sent(),[3,8];case 6:return[4,Object(g.j)(Object(m.g)(t,n,T(o)))];case 7:a.sent(),a.label=8;case 8:return[2]}}))}function A(e){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return e.payload?(t=e.type,n=e.payload.comment,[4,Object(g.c)(L,"/feature",t,n)]):[2];case 1:return r.sent(),[2]}}))}function P(e){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return e.payload?(t=e.type,n=e.payload.comment,[4,Object(g.c)(L,"/unfeature",t,n)]):[2];case 1:return r.sent(),[2]}}))}function D(e){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return e.payload?(t=e.type,n=e.payload.comment,[4,Object(g.c)(L,"/like",t,n)]):[2];case 1:return r.sent(),[2]}}))}function H(e){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return e.payload?(t=e.type,n=e.payload.comment,[4,Object(g.c)(L,"/unlike",t,n)]):[2];case 1:return r.sent(),[2]}}))}function U(e){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return e.payload?(t=e.type,n=e.payload.comment,[4,Object(g.c)(L,"/report",t,n)]):[2];case 1:return r.sent(),[2]}}))}function z(e){var t,n,r,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return e.payload?(t=e.type,n=e.payload,r=n.comment,o=n.insideModal,[4,Object(g.c)(L,"/hide",t,r)]):[2];case 1:return a.sent(),[4,Object(g.j)(Object(C.addNotification)(F.a.DeleteComment,{id:r.commentId,comment:r,insideModal:o}))];case 2:return a.sent(),[2]}}))}function B(e){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return e.payload?(t=e.type,n=e.payload.comment,[4,Object(g.j)(Object(C.removeNotification)(n.commentId))]):[2];case 1:return r.sent(),[4,Object(g.c)(L,"/unhide",t,n)];case 2:return r.sent(),[2]}}))}function J(e){var t,n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return e.payload?(t=e.type,n=e.payload,[4,Object(g.l)(M.b,n)]):[2];case 1:return r=o.sent(),[4,Object(g.b)(r.map((function(e){return Object(g.j)(Object(m.h)(t,e))})))];case 2:return o.sent(),[2]}}))}function G(e){var t,n,r,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return e.payload?(t=e.type,n=e.payload,r=T(e.meta)||k.b.GeneralError,[4,Object(g.l)(M.b,n)]):[2];case 1:return o=a.sent(),[4,Object(g.b)(o.map((function(e){return Object(g.j)(Object(m.g)(t,e,r))})))];case 2:return a.sent(),[2]}}))}function V(e){var t,n,r,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return t=e.payload,n=t.badge,(r=t.recipient).typeId!==I.a.COMMENT?[2]:[4,Object(g.l)(Object(M.a)(r.itemId))];case 1:return o=a.sent(),[4,Object(g.j)(Object(m.a)(w()(o)?r.comment:o,n))];case 2:return a.sent(),[2]}}))}function W(){return Object(s.__generator)(this,(function(e){switch(e.label){case 0:return[4,Object(g.m)(m.e)];case 1:return e.sent(),[4,Object(g.b)([Object(g.o)(m.b,A),Object(g.o)(m.i,P),Object(g.o)(m.d,D),Object(g.o)(m.k,H),Object(g.o)(m.c,z),Object(g.o)(m.j,B),Object(g.o)(m.f,U),Object(g.n)(b.a.blockUserSuccess,J),Object(g.n)(b.a.blockUserFail,G),Object(g.n)(E.c,V)])];case 2:return e.sent(),[2]}}))}var q=function(){return c.a.createElement(i.DynamicModuleLoader,{modules:[{id:"commentModule",reducerMap:h,sagas:[W],initialActions:[Object(m.e)()],retained:!1}]})};q.displayName="CommentReduxModule";t.default=q}}]);
//# sourceMappingURL=comment_redux.chunk.min.js.map